# # os-hw-2
<br/> Завяьлов Егор Сергеевич БПИ-217<br/> Вариант 10

## 
Задача о магазине – 1. В магазине работают три отдела, каждый отдел обслуживает один продавец. Покупатель, зайдя в магазин, делает покупки в одном или нескольких произвольных отделах, обходя их в произвольном порядке. Если в выбранном отделе
продавец не свободен, покупатель становится в очередь и засыпает,
пока продавец не освободится. Создать приложение, моделирующее рабочий день магазина. Каждого продавца и каждого
покупателя реализовать в виде отдельного процесса

---- 
### Запуск:

Для тестирования и запуска программ необходимо,
находясь в нужной директории, ввести в терминал:

> gcc main.c; ./a.out
# Модель задачи (именованные POSIX семафоры):
department_state содержит информацию о очереди и процессах-покупателях. Процессы-продавцы ожидают семафор отдела, затем проверяют, есть ли клиенты в очереди. Если да, обслуживают первого клиента в очереди и удаляют из массива. Затем освобождают семафор и переходят в спящий режим на произвольное количество времени. Процесс-покупатель buyer() перебирает отделы и пытается получить семафор каждого отдела. Если семафор доступен, он добавляет себя в очередь отдела, если есть место, затем освобождает семафор и переходит к следующему отделу. Если семафор недоступен, он переходит в спящий режим на произвольное количество времени, прежде чем повторить попытку.

В main() сначала создаем три объекта общей памяти и инициализируем их с помощью семафоров и начальных значений. Затем создаем три процесса для имитации трех продавцов и десять процессов для имитации десяти покупателей. Каждый покупатель случайным образом выбирает от одного до трех отделов для посещения.
